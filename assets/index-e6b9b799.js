import{d as V,u as k,r as _,a as q,b as I,c as S,e as u,o as C,f as N,g,h as s,w as l,i as t,j as B,l as E,k as H,E as f,p as U,m as $,_ as D}from"./index-5e8add3e.js";const F=()=>{let e="";const r=new Date().getHours();return r<=9?e="早上":r<=12?e="上午":r<=18?e="下午":e="晚上",e},R=e=>(U("data-v-efe90583"),e=e(),$(),e),T={class:"login-wrap"},j={class:"login-box"},L=R(()=>g("h1",{class:"tit"},"Hello",-1)),z=V({__name:"index",setup(e){let r=k(),m=_(),x=q(),w=I(),i=_(!1),a=S({username:"admin",password:"atguigu123"});const h=async()=>{await m.value.validate(),i.value=!0;try{let n=await r.userLogin(a);console.log("res: ",n);let o=w.query.redirect;x.push({path:o||"/"}),f({type:"success",message:"欢迎回来",title:`HI,${F()}好`}),i.value=!1}catch(n){i.value=!1,f({type:"error",message:n.message})}},v={username:[{required:!0,message:"请输入账号",trigger:["change","blur"]},{required:!0,min:5,max:12,message:"账号长度5-12位",trigger:["change","blur"]}],password:[{required:!0,message:"请输入密码",trigger:["change","blur"]},{required:!0,min:5,max:12,message:"密码长度5-12位",trigger:["change","blur"]}]};return(n,o)=>{const p=u("el-input"),d=u("el-form-item"),b=u("el-button"),y=u("el-form");return C(),N("div",T,[g("div",j,[L,s(y,{rules:v,"label-width":"0",ref_key:"loginForms",ref:m,mode:t(a)},{default:l(()=>[s(d,{label:"",prop:"username"},{default:l(()=>[s(p,{"prefix-icon":t(B),modelValue:t(a).username,"onUpdate:modelValue":o[0]||(o[0]=c=>t(a).username=c)},null,8,["prefix-icon","modelValue"])]),_:1}),s(d,{label:"",prop:"password"},{default:l(()=>[s(p,{type:"password","prefix-icon":t(E),modelValue:t(a).password,"onUpdate:modelValue":o[1]||(o[1]=c=>t(a).password=c)},null,8,["prefix-icon","modelValue"])]),_:1}),s(d,{label:""},{default:l(()=>[s(b,{type:"primary",class:"w100",onClick:h},{default:l(()=>[H("登录")]),_:1})]),_:1})]),_:1},8,["mode"])])])}}});const G=D(z,[["__scopeId","data-v-efe90583"]]);export{G as default};
